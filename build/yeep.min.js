/*! yeep 2014-12-04 */
!function(a){"use strict";var b={};return a.tracks={},a.envelopes={},a.tones={},a.notes={},a.log=function(){b.logging&&console.log.apply(console,arguments)},a.extend=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];c&&Object.keys(c).forEach(function(b){a[b]=c[b]})}return a},a.play=function(b){a.tracks[b]()},a.audioCtx=new(window.AudioContext||window.webkitAudioContext),a}(this.yeep={}),function(a){"use strict";return a.ar=function(a){var b={delaySec:0,attackSec:.05,attackVol:1,releaseSec:.02},c=yeep.extend({},b,a),d=yeep.audioCtx.currentTime,e=yeep.audioCtx.createGain();return e.gain.setValueAtTime(0,0),e.gain.setValueAtTime(1e-5,d+c.delaySec),e.gain.exponentialRampToValueAtTime(c.attackVol,d+c.delaySec+c.attackSec),e.gain.exponentialRampToValueAtTime(1e-5,d+c.delaySec+c.attackSec+c.releaseSec),e},a.adsr=function(a){var b={delaySec:0,attackSec:.05,attackVol:1,decaySec:.02,decayVol:.8,sustainSec:.2,releaseSec:.02},c=yeep.extend({},b,a),d=yeep.audioCtx.currentTime,e=yeep.audioCtx.createGain();return e.gain.setValueAtTime(0,0),e.gain.setValueAtTime(1e-5,d+c.delaySec),e.gain.exponentialRampToValueAtTime(c.attackVol,d+c.delaySec+c.attackSec),e.gain.exponentialRampToValueAtTime(c.decayVol,d+c.delaySec+c.attackSec+c.decaySec),e.gain.exponentialRampToValueAtTime(c.decayVol,d+c.delaySec+c.attackSec+c.decaySec+c.sustainSec),e.gain.exponentialRampToValueAtTime(1e-5,d+c.delaySec+c.attackSec+c.decaySec+c.sustainSec+c.releaseSec),e},a}(this.yeep.envelopes),function(a){"use strict";return a.notes=function(){for(var a={},b=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],c=0,d=16.35161;2e4>d;d*=Math.pow(2,1/12))a[b[c%12]+Math.floor(c/12)]=d,c++;return a}(),a.notes}(this.yeep),function(a){"use strict";return a.ar=function(b){var c={oscType:"sine",freq:yeep.notes.C4,delaySec:0,upSec:.05,vol:.4,downSec:.5},d=yeep.extend({},c,b);return d.attackSec=d.upSec,d.attackVol=d.vol,d.decaySec=0,d.sustainSec=0,d.releaseSec=d.downSec,a.adsr(d)},a.adsr=function(a){var b={oscType:"sine",freq:yeep.notes.C4,delaySec:0,attackSec:.05,attackVol:1,decaySec:.02,decayVol:.8,sustainSec:.2,releaseSec:.02,preGainFilters:[],postGainFilters:[]},c=yeep.extend({},b,a),d=yeep.audioCtx.createOscillator();d.frequency.setValueAtTime(c.freq,0),d.type=c.oscType;var e=d,f=yeep.envelopes.adsr(c);c.preGainFilters.forEach(function(a){e.connect(a),e=a}),e.connect(f),e=f,c.postGainFilters.forEach(function(a){e.connect(a),e=a}),e.connect(yeep.audioCtx.destination);var g=yeep.audioCtx.currentTime;return d.start(g),d.stop(g+c.delaySec+c.attackSec+c.decaySec+c.sustainSec+c.releaseSec),e},a}(this.yeep.tones),function(a){"use strict";var b=yeep.extend,c={ping:function(){yeep.tones.ar({freq:yeep.notes.C5})},add:function(){yeep.tones.ar({freq:yeep.notes.C5}),yeep.tones.ar({freq:yeep.notes.E5,delaySec:.2})},remove:function(){yeep.tones.ar({freq:yeep.notes.E5}),yeep.tones.ar({freq:yeep.notes.C5,delaySec:.2})},ring:function(){for(var a=0;2>a;a++)yeep.tones.ar({freq:yeep.notes.C5,delaySec:.8*a}),yeep.tones.ar({freq:yeep.notes.C5,delaySec:.8*a+.3}),yeep.tones.ar({freq:yeep.notes.G5,delaySec:.8*a+.4}),yeep.tones.ar({freq:yeep.notes.E5,delaySec:.8*a+.5})}},d={sadTrombone:function(){var a={oscType:"triangle",delaySec:0,attackSec:.5,sustainSec:.5,decayVol:1};yeep.tones.adsr(b({},a,{freq:yeep.notes.D4,delaySec:0})),yeep.tones.adsr(b({},a,{freq:yeep.notes["C#4"],delaySec:.75,sustainSec:.5})),yeep.tones.adsr(b({},a,{freq:yeep.notes.C4,delaySec:1.5,sustainSec:.5})),yeep.tones.adsr(b({},a,{freq:yeep.notes.B3,delaySec:2.25,sustainSec:1.5,releaseSec:.5}))},zelda:function(){var a={oscType:"triangle",attackSec:.1,attackVol:.4,decayVol:.4,releaseSec:.1};yeep.tones.adsr(b({},a,{delaySec:0,freq:yeep.notes["D#3"]})),yeep.tones.adsr(b({},a,{delaySec:0,freq:yeep.notes.A4})),yeep.tones.adsr(b({},a,{delaySec:.2,freq:yeep.notes.E3})),yeep.tones.adsr(b({},a,{delaySec:.2,freq:yeep.notes["A#4"]})),yeep.tones.adsr(b({},a,{delaySec:.4,freq:yeep.notes.F3})),yeep.tones.adsr(b({},a,{delaySec:.4,freq:yeep.notes.B4})),yeep.tones.adsr(b({},a,{delaySec:.6,freq:yeep.notes["F#3"],sustainSec:.8})),yeep.tones.adsr(b({},a,{delaySec:.6,freq:yeep.notes.C5,sustainSec:.8}))}},e={snare:function(a){a=a||{};var b=yeep.audioCtx.createBiquadFilter();b.type="lowpass",b.frequency.setValueAtTime(5e3,yeep.audioCtx.currentTime+(a.delaySec||0)),b.frequency.exponentialRampToValueAtTime(3e3,yeep.audioCtx.currentTime+.1+(a.delaySec||0));var c=yeep.audioCtx.createWhiteNoise(),d=yeep.envelopes.ar({attackSec:0,attackVol:2,releaseSec:1,delaySec:a.delaySec||0});c.connect(d),d.connect(b),b.connect(yeep.audioCtx.destination)},kick:function(a){var c=yeep.audioCtx.createBiquadFilter();c.type="lowpass",c.frequency.value=500,c.frequency.setValueAtTime(500,yeep.audioCtx.currentTime+(a.delaySec||0)),c.frequency.exponentialRampToValueAtTime(1,yeep.audioCtx.currentTime+.4+(a.delaySec||0));var d=yeep.audioCtx.createGain();d.gain.value=1.5,yeep.tones.ar(b({},{oscType:"square",freq:yeep.notes.A1,upSec:.02,downSec:.6,vol:1,postGainFilters:[c,d]},a))},splash:function(a){a=a||{};var b=yeep.audioCtx.createBiquadFilter();b.type="highpass",b.frequency.value=1500,b.frequency.setValueAtTime(1500,yeep.audioCtx.currentTime+(a.delaySec||0)),b.frequency.exponentialRampToValueAtTime(3e3,yeep.audioCtx.currentTime+.5+(a.delaySec||0));var c=yeep.audioCtx.createWhiteNoise(),d=yeep.envelopes.ar({attackSec:0,attackVol:1,releaseSec:2,delaySec:a.delaySec||0});c.connect(d),d.connect(b),b.connect(yeep.audioCtx.destination)},rimshot:function(){yeep.tracks.snare(),yeep.tracks.kick({delaySec:.3}),yeep.tracks.splash({delaySec:.9})},beat:function(){yeep.tracks.kick({delaySec:0}),yeep.tracks.kick({delaySec:.125}),yeep.tracks.kick({delaySec:.5}),yeep.tracks.kick({delaySec:.625}),yeep.tracks.snare({delaySec:.5}),yeep.tracks.splash({delaySec:0}),yeep.tracks.splash({delaySec:.25}),yeep.tracks.splash({delaySec:.5}),yeep.tracks.splash({delaySec:.75})}};return yeep.extend(a,c,d,e),a}(this.yeep.tracks);
//# sourceMappingURL=yeep.js.map